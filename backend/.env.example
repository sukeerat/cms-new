# =============================================================================
# CMS Backend - Environment Template
# =============================================================================
# Copy this file to .env and fill in your values:
#   cp .env.example .env
# =============================================================================

# --- Core Configuration ---
NODE_ENV=development
PORT=5000

# --- Database Configuration (MongoDB) ---
# Local: mongodb://admin:password@localhost:27017/cms_db?authSource=admin
# Docker: mongodb://admin:password@mongodb:27017/cms_db?authSource=admin
DATABASE_URL=mongodb://admin:YOUR_PASSWORD@localhost:27017/cms_db?authSource=admin

# --- Cache Configuration (DragonflyDB/Redis) ---
# Local: redis://localhost:6379
# Docker: redis://dragonfly:6379
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379

# --- MinIO (S3-compatible Storage) ---
# Local: http://localhost:9000
# Docker: http://minio:9000
MINIO_ENDPOINT=http://localhost:9000
MINIO_BUCKET=cms-uploads
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=YOUR_MINIO_SECRET
MINIO_REGION=us-east-1
AWS_S3_ENDPOINT=http://localhost:9000
AWS_S3_BUCKET=cms-uploads
AWS_REGION=us-east-1

# --- JWT Configuration ---
JWT_SECRET=YOUR_JWT_SECRET_MIN_32_CHARS
JWT_EXPIRATION=30m
JWT_REFRESH_EXPIRATION=7d

# --- CORS Configuration ---
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000
FRONTEND_URL=http://localhost:5173
CORS_ORIGIN=http://localhost:5173

# --- Rate Limiting ---
THROTTLE_TTL=60
THROTTLE_LIMIT=100

# --- Logging ---
LOG_LEVEL=debug

# --- File Uploads ---
MAX_FILE_SIZE=10485760
UPLOAD_DEST=./uploads

# --- Multi-tenant ---
DEFAULT_INSTITUTION_ID=main_campus

# --- Portal URL ---
PORTAL_URL=http://localhost:5173

# --- Email Configuration (Optional) ---
MAIL_USER=your-email@gmail.com
MAIL_PASS=your-app-password

# --- Google OAuth (Optional) ---
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_CALLBACK_URL=http://localhost:5000/auth/google/redirect
