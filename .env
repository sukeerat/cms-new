# ===========================================
# CMS Docker Environment Configuration
# ===========================================
# Copy this file to .env and update values before running docker-compose
# cp .env.docker .env

# ===========================================
# Application Settings
# ===========================================
NODE_ENV=production
LOG_LEVEL=info

# ===========================================
# Port Configuration
# ===========================================
FRONTEND_PORT=80
BACKEND_PORT=5000
MONGODB_PORT=27017
DRAGONFLY_PORT=6379
MINIO_API_PORT=9000
MINIO_CONSOLE_PORT=9001

# ===========================================
# Frontend Configuration (Build-time)
# ===========================================
VITE_API_BASE_URL=http://localhost:5000/api
VITE_APP_NAME=CMS Portal
VITE_APP_ENV=production

# ===========================================
# Database Configuration
# ===========================================
# MongoDB connection string (uses Docker network name)
DATABASE_URL=mongodb://cmsuser:cmspassword123@mongodb:27017/cms?authSource=cms

# MongoDB root credentials (for initialization)
MONGO_ROOT_USER=admin
MONGO_ROOT_PASSWORD=admin123
MONGO_DATABASE=cms

# ===========================================
# Cache Configuration (DragonflyDB)
# ===========================================
REDIS_URL=redis://dragonfly:6379
REDIS_HOST=dragonfly
REDIS_PORT=6379

# ===========================================
# JWT Authentication (CHANGE IN PRODUCTION!)
# ===========================================
JWT_SECRET=your-super-secret-jwt-key-must-be-changed-in-production
JWT_EXPIRES_IN=24h

# ===========================================
# CORS Settings
# ===========================================
ALLOWED_ORIGINS=http://localhost,http://localhost:80,http://127.0.0.1,http://127.0.0.1:80,http://localhost:5173
FRONTEND_URL=http://localhost:5173
CORS_ORIGIN=http://localhost:5173,http://127.0.0.1:5173,http://localhost,http://127.0.0.1

# ===========================================
# Rate Limiting
# ===========================================
THROTTLE_TTL=60
THROTTLE_LIMIT=100

# ===========================================
# File Upload
# ===========================================
MAX_FILE_SIZE=10485760
UPLOAD_PATH=/app/uploads

# ===========================================
# MinIO (S3-compatible Storage)
# ===========================================
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin123
MINIO_ENDPOINT=http://minio:9000
MINIO_BUCKET=cms-uploads
MINIO_REGION=us-east-1

# ===========================================
# PM2 Configuration
# ===========================================
# Number of PM2 instances ('max' for all CPU cores, or a number)
PM2_INSTANCES=max

# ===========================================
# Email Configuration (Optional)
# ===========================================
MAIL_USER=
MAIL_PASS=

# ===========================================
# Google OAuth (Optional)
# ===========================================
GOOGLE_CLIENT_ID=placeholder-client-id
GOOGLE_CLIENT_SECRET=placeholder-client-secret
GOOGLE_CALLBACK_URL=http://localhost:5000/auth/google/callback

# ===========================================
# Firebase Configuration (Optional)
# ===========================================
FIREBASE_PROJECT_ID=
FIREBASE_PRIVATE_KEY=
FIREBASE_CLIENT_EMAIL=
FIREBASE_STORAGE_BUCKET=

# ===========================================
# Cloudinary Configuration (Optional)
# ===========================================
CLOUDINARY_CLOUD_NAME=
CLOUDINARY_API_KEY=
CLOUDINARY_API_SECRET=
